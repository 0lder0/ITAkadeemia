<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="evo-calendar.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Tartu Rakenduslik Kolledž - IT Akadeemia</title>
</head>
<body>

<!-- Header -->

<header>
    <div class="navbar">
        <div class="navbar_left">
            <div class="navbar_logo">
                <img src="https://voco.ee/wp-content/uploads/VOCO-Logo.svg" alt="logo">
            </div>
        </div>
        <div class="navbar_right">
            <div class="navbar_menu">
                <a>Konsultatsioonid</a>
                <a>Erialad</a>
                <a>Praktika</a>
                <a>Kutsemeistrivõistlused</a>
                <a>Tunnustused</a>
            </div>
        </div>
        <div class="menu_icon">
            <i class="fa fa-bars"></i>
        </div>
    </div>
</header>

<!-- Main -->

<main class="main">

    <div class="pageIntro">
        <div class="pageIntro_content">
            <div class="pageIntro_title">PANE OMA OSKUSED PROOVILE</div>
            <div class="pageIntro_text">Kas IT pakub huvi? Leia oma eriala ja muuda huvi oskusteks!</div>
            <a class="hero_button">
                <button class="pageIntro_button" id="pageIntro_btn1">TUTVU ERIALADEGA</button>
                <button class="pageIntro_button" id="pageIntro_btn2"></button>
            </a>
        </div>
        <div class="pageIntro_image">
            <img src="images/image.png" alt="image" id="pageIntro_logo">
            <img src="images/muster.png" alt="image" id="pageIntro_background">
        </div>
    </div>
   

    <div class="akadeemiacontainer">
        <div class="akadeemiaeosa1">
            <div class="akadeemiatekst">
                <h2>IT Akadeemia.</h2>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
                    tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                    quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
                    Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
                    Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum</p>
            </div>
            <div class="akadeemialogo"><img src="images/vocoiktlogo.png" alt=""></div>
        </div>
        <div class="pildisektsioon">
            <img class="slaid" src="/images/esimene.png" alt="Esimene pilt">
            <img class="slaid" src="/images/teine.png" alt="Teine pilt">
            <img class="slaid" src="/images/esimene.png" alt="Kolmas pilt">
        </div>

        <div class="lingidsection">
            <div class="lisainfo">
                <h2>Lisainfo</h2>
                <div class="lisainfonupud">
                    <div><button class="lisainfo_button">Erialad</button></div>
                    <div><button class="lisainfo_button">Konsultatsioonid</button></div>
                    <div><button class="lisainfo_button">Kutsevõistlused</button></div>
                    <div><button class="lisainfo_button">Praktika</button></div>
                </div>
            </div>
        </div>

        <div id="calendar"></div>
        <div class="open-modal-btn-wrapper">
            <button class="open-modal-btn">
                Open Modal
            </button>
        </div>
    </div>

</main>

<!-- Modal -->
<div class="modal" id="addEventModal">
    <div class="modal-content">
        <span class="close-modal-btn">&times;</span>
        <h2>Lisa uus sündmus</h2>
        <form action="postEvents.php" class="modalForm" id="eventForm" method="post">
            <label for="eventName">Sündmuse nimi:</label>
            <input type="text" id="eventName" name="eventName" required>

            <label for="eventDescription">Sündmuse kirjeldus:</label>
            <textarea id="eventDescription" name="eventDescription" rows="4" required></textarea>

            <label for="eventDate">Sündmuse kuupäev:</label>
            <input type="date" id="eventDate" name="eventDate" required>

            <button type="submit">Lisa sündmus</button>
        </form>
    </div>
</div>


<!-- Footer -->

<footer class="footer">
    <div class="container-footer">
        <div class="footer_content">
            <div class="footer_logo">
                <a href="https://voco.ee/" class="footer_logo"><img src="https://voco.ee/wp-content/uploads/VOCO.svg" alt="Tartu Rakenduslik Kolledž" class="footer_logoImg"></a>
            </div>
            <div class="footer_mainCol">
                <div class="footer_grid">
                    <div class="footer_col">
                        <h3 class="footer_title">Kontakt</h3>
                        <div class="footer_text">
                            <p><a href="mailto:info@voco.ee">info@voco.ee</a></p>
                            <p>7 361 810</p>
                        </div>
                    </div>
                    <div class="footer_col">
                        <h3 class="footer_title">VOCO</h3>
                        <div class="footer_text">
                            <p>Kopli 1</p>
                            <p>Tartu 50115 Eesti</p>
                        </div>
                    </div>
                    <div class="footer_col">
                        <h3 class="footer_title">Privaatsustingimused</h3>
                        <div class="footer_text">
                            <p><a href="https://voco.ee/andmekaitse-info/" target="">Andmekaitse</a></p>
                        </div>
                        <div class="footer_text">
                            <p><a href="https://voco.ee/kupsised/ " target="">Küpsised</a></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>


<script src="index.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="evo-calendar.js"></script>

<script>
    $(document).ready(function () {
        $("#eventForm").on("submit", function (event) {
            // Prevent the default form submission behavior
            event.preventDefault();

            // Retrieve form data
            var formData = $(this).serialize();

            // Perform AJAX request
            $.ajax({
                type: "POST",
                url: "postEvents.php",
                data: formData,
                success: function (response) {
                    // Update the page or show a success message
                    console.log(response); // Log the response for debugging

                    // Assuming you want to update the calendar after adding an event
                    updateCalendar();
                    $("#addEventModal").css("display", "none");
                },
                error: function (error) {
                    console.log(error); // Log the error for debugging
                }
            });
        });

        // Initialize your calendar, once the page's DOM is ready
        function updateCalendar() {
            // Fetch events from PHP script
            $.ajax({
                url: 'getEvents.php', // Adjust the path to your PHP script
                type: 'GET',
                success: function(events) {
                    // Initialize EvoCalendar with fetched events
                    $('#calendar').evoCalendar({
                        calendarEvents: events
                    });
                },
                error: function(error) {
                    console.log('Error fetching events:', error);
                }
            });
        }

        // Initial calendar setup
        updateCalendar();
    });
</script>
</body>
</html>