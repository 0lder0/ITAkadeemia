<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="evo-calendar.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Tartu Rakenduslik Kolled탑 - IT Akadeemia</title>
</head>
<body>
<header>
    <div class="navbar">
        <div class="navbar_left">
            <div class="navbar_logo">
                <img src="https://voco.ee/wp-content/uploads/VOCO-Logo.svg" alt="logo">
            </div>
        </div>
        <div class="navbar_right">
            <div class="navbar_menu">
                <a>Konsultatsioonid</a>
                <a>Erialad</a>
                <a>Praktika</a>
                <a>Kutsemeistriv천istlused</a>
                <a>Tunnustused</a>
            </div>
        </div>
        <div class="menu_icon">
            <i class="fa fa-bars"></i>
        </div>
    </div>
</header>

<main>
    <div class="akadeemiacontainer">
        <h2>Tunniplaan</h2>

        <table class="timetable">
            <tr id="timetable_header">
            </tr>
            <tr id="first_lesson">
                <td>08:30 - 10:00</td>
                <td>                    <div class="timetable_event">
                    <div class="event_time">
                        8:30 - 10:00
                    </div>
                    Ettevalmistus matemaatika riigieksamiks
                    <div class="classroom">
                        Kopli A - A409 (Klassiruum)
                    </div>
                    <div class="teacher">
                        Erki Kuus
                    </div>
                </div></td>
                <td>                    <div class="timetable_event">
                    <div class="event_time">
                        8:30 - 10:00
                    </div>
                    Ettevalmistus matemaatika riigieksamiks
                    <div class="classroom">
                        Kopli A - A409 (Klassiruum)
                    </div>
                    <div class="teacher">
                        Erki Kuus
                    </div>
                </div></td>
                <td>                    <div class="timetable_event">
                    <div class="event_time">
                        8:30 - 10:00
                    </div>
                    Ettevalmistus matemaatika riigieksamiks
                    <div class="classroom">
                        Kopli A - A409 (Klassiruum)
                    </div>
                    <div class="teacher">
                        Erki Kuus
                    </div>
                </div></td>
                <td>                    <div class="timetable_event">
                    <div class="event_time">
                        8:30 - 10:00
                    </div>
                    Ettevalmistus matemaatika riigieksamiks
                    <div class="classroom">
                        Kopli A - A409 (Klassiruum)
                    </div>
                    <div class="teacher">
                        Erki Kuus
                    </div>
                </div></td>
                <td>                     <div class="timetable_event">
                    <div class="event_time">
                        8:30 - 10:00
                    </div>
                    Ettevalmistus matemaatika riigieksamiks
                    <div class="classroom">
                        Kopli A - A409 (Klassiruum)
                    </div>
                    <div class="teacher">
                        Erki Kuus
                    </div>
                </div></td>
            </tr>
            <tr id="second_lesson">
                <td>10:15 - 11:45</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr id="third_lesson">
                <td>11:55 - 14:00</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr id="fourth_lesson">
                <td>14:10 - 15:40</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr id="fifth_lesson">
                <td>15:45 - 17:15</td>
                <td>
                    <div class="timetable_event">
                        <div class="event_time">
                            8:30 - 10:00
                        </div>
                        Ettevalmistus matemaatika riigieksamiks
                        <div class="classroom">
                            Kopli A - A409 (Klassiruum)
                        </div>
                        <div class="teacher">
                            Erki Kuus
                        </div>
                    </div>
                </td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
        </table>
    </div>
</main>


<footer class="footer">
    <div class="container-footer">
        <div class="footer_content">
            <div class="footer_logo">
                <a href="https://voco.ee/" class="footer_logo"><img src="https://voco.ee/wp-content/uploads/VOCO.svg" alt="Tartu Rakenduslik Kolled탑" class="footer_logoImg"></a>
            </div>
            <div class="footer_mainCol">
                <div class="footer_grid">
                    <div class="footer_col">
                        <h3 class="footer_title">Kontakt</h3>
                        <div class="footer_text">
                            <p><a href="mailto:info@voco.ee">info@voco.ee</a></p>
                            <p>7 361 810</p>
                        </div>
                    </div>
                    <div class="footer_col">
                        <h3 class="footer_title">VOCO</h3>
                        <div class="footer_text">
                            <p>Kopli 1</p>
                            <p>Tartu 50115 Eesti</p>
                        </div>
                    </div>
                    <div class="footer_col">
                        <h3 class="footer_title">Privaatsustingimused</h3>
                        <div class="footer_text">
                            <p><a href="https://voco.ee/andmekaitse-info/" target="">Andmekaitse</a></p>
                        </div>
                        <div class="footer_text">
                            <p><a href="https://voco.ee/kupsised/ " target="">K체psised</a></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>
</body>

<script>

    fetch('https://siseveeb.voco.ee/veebilehe_andmed/tunniplaan?nadal=2024-02-26T00:00:00&grupp=1583')
        .then(response => response.json())
        .then(data => {
            const lessonKeys = Object.keys(data.tunnid);
            const date = new Date(lessonKeys[0]);
            const month = date.getMonth() + 1;

            const formattedMonth = month < 10 ? '0' + month : month;
            const dayNames = ['E', 'T', 'K', 'N', 'R'];

            let timetableHeaderHTML = "<th>Aeg</th>";

            for (let index = 0; index < 5; index++) {
                const lessonKey = lessonKeys[index];
                const date = new Date(lessonKey);

                let dayOfMonth = date.getDate();

                if (lessonKey === undefined) {
                    dayOfMonth = new Date(lessonKeys[index - 1]).getDate() + 1;
                }

                const formattedDayOfMonth = dayOfMonth < 10 ? '0' + dayOfMonth : dayOfMonth;

                console.log(lessonKey);


                timetableHeaderHTML += `<th>${dayNames[index]} ${formattedDayOfMonth}.${formattedMonth}</th>`;
            }

            document.getElementById("timetable_header").innerHTML = timetableHeaderHTML;

            console.log(lessonKeys);
            console.log(data.tunnid[lessonKeys[0]]);
        });
</script>

</html>